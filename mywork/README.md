# 使用遗传算法解决TSP问题

### 运行

`python TSP_origin.py --filename data/a280.tsp --answer_filename ./data/a280.opt.tour --show_figure --pop_size 100  --elite_size 20  --generations 10000 --mutation_rate 0.01`

### 种群表示

* `City` 城市对象，由(x,y)坐标表示
* `Fitness`适应度对象，封装了一条路线的适应度和长度等方法

* `population` 个体，一条路线，表示方法：[(x1,y1),(x2,y2),...]
* `pop` 种群，若干条路线

### 进化过程

* `popRanked` 种群内个体按适应度排序后的结果[(个体序号1，适应度1)，...]
* `selectedResults` 种群进行选择后的序号表示[个体序号1，个体序号2，...]
* `matingpool` [个体1，个体2，...]
* 



### Bug记录

* 致命的错误：算法本省原理不能解决所有情况，当出现：P1=[4 1 2 3 0],P2=[3 4 0 1 2]这种情况，运行：

  O1 = (3,x,x,x,x)

  O2 = (4,x,x,x,x)

  接下来算法无法对其进行应对，因此程序生成的子染色体有大量相同节点，后续计算完全错误！归纳出这种情况是：O1,O2均出现P2，P1对应节点，且两节点不相同，则无法继续向下进行交叉运算，因此，这里提出一个简单的**解决方法**：将O1，O2添加上对方节点，于是变成：

  O1 = (3,4,x,x,x)

  ### O2 = (4,3,x,x,x),算法构成了一个环，则继续向下计算即可

  